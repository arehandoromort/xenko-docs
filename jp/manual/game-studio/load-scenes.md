# 実行時にシーンをロードおよびアンロードする

次のコードは、シーン `myChildScene` をロードし、それを子シーンとして `myParentScene` に追加します。

```
var myChildScene = Content.Load<Scene>(url); (edited)

myParentScene.Children.Add(myChildScene);
```

## シーン ストリーミング スクリプト

Xenko には、[トリガー](../physics/triggers.md)を使用してシーンをロードするシーン ストリーミング スクリプトも含まれます。

>[!NOTE]
>シーン ストリーミング スクリプトは例として含まれています。シーンをロードする方法として常に最適であるとは限りません。必要に応じて自由に変更してください。

### シーン ストリーミング スクリプトを追加する

シーン ストリーミング スクリプトを追加するには、［Asset view］ (既定では下部のペイン) で、［Add asset］をクリックし、［Scripts］>［Scene streaming］を選択します。

![Scene streaming script](media/scene-streaming-script.png)

プロジェクトのアセットにシーン ストリーミング スクリプトが追加されます。

### シーン ストリーミング スクリプトを使用する

1. トリガー エンティティを作成します。これが実行時にトリガーされると、シーンがロードされます。トリガーの作成の詳細については、「[トリガー](../physics/triggers.md)」を参照してください。

    エンティティがトリガーされる方法はコライダーのプロパティで定義されています。詳細については、「[コライダー](../physics/colliders.md)」を参照してください。

2. エンティティを作成して、シーンをロードする場所に配置します。

3. エンティティを選択し、［Property grid］ (既定では右側) で［Add component］をクリックして、**シーン ストリーミング スクリプト**を選択します。

    ![Add script](media/add-scene-streaming-script.png)

    >[!NOTE]
    >コンポーネントの一覧にシーン ストリーミング スクリプトが表示されない場合は、アセンブリを再ロードしてください。

    コンポーネントとしてエンティティにスクリプトが追加されます。

    ![Scene streaming properties](media/scene-streaming-script-properties.png)

4.［Url］で、ロードするシーンの URL を指定します。

5.［Trigger］で、ステップ 1 で作成したエンティティを指定します。

実行時に、ステップ 1 で作成したトリガーがトリガーされると、ステップ 4 で指定したシーンがロードされます。

### シーン ストリーミング スクリプトのプロパティ

![Scene streaming properties](media/scene-streaming-script-properties.png)

| プロパティ       | 説明                                                                                                                                                                                            |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Pre Load Depth | シーンのロードを開始するポイント (メートル単位)。たとえば、［2.5］と指定すると、プレイヤーがトリガー領域に 2.5 メートル入った時点で、シーンのロードが開始します。                                          |
| Load Depth     | シーンがまだロードされていない場合、シーンのロードを終了するためにゲームがフリーズするポイント (メートル単位)。たとえば、［5］と指定すると、プレイヤーがトリガー領域に 5 メートル入った時点で、ゲームがフリーズします。 |
| Priority       | スクリプトの優先順位。詳細については、「[スケジュールと優先順位](../scripts/scheduling-and-priorities.md)」を参照してください。                                                                                                              |
## 関連項目

* [コライダー](../physics/colliders.md)
* [トリガー](../physics/triggers.md)
* [シーンを作成して開く](create-a-scene.md)
* [シーン エディター内を移動する](avigate-in-the-scene-editor.md)
* [シーンを管理する](manage-scenes.md)
* [エンティティを追加する](add-entities.md)
* [エンティティを管理する](manage-entities.md)
